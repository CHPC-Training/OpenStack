# 2. Creating Resources via Horizon

## 2.1. Virtual Machine Prerequisites

Before creating our first virtual machine (VM) instance, we need to ensure there are other resources in place to allow us to ultimately access the VM. Any guesses what these could be?

.

.

.

.

.

.

.

.

.

.

.

.

.

.

.

.

A very useful view of one's resources can be found at the "Network" --> "Network Topology" section on the left menu. You
should see something like:

<p align="center">
  <img width="60%" alt="network-topology-base" src="https://github.com/user-attachments/assets/e7fa78aa-88b2-4cdb-a782-74bdb4507b76" />
</p>

With the above setup, unfortunately we cannot launch an instance just yet. An instance requires, at the VERY least, to be attached to a private network.

### Private Network
To create a private network, simply click on the "+ Create Network" button while in the Network Topology view. Alternatively, navigate to the "Network" --> "Networks" section on the left menu, and click on "+ Create Network" on the top right.
<p float="left">
  <img width="33%" alt="create_network" src="https://github.com/user-attachments/assets/f03e2aec-86b5-4530-b6c9-60c89785b492" />
  <img width="33%" height="512" alt="create_subnet" src="https://github.com/user-attachments/assets/1546f6c8-5f3f-4975-84c8-437af8d7b76d" />
  <img width="28.5%" height="616" alt="subnet_details" src="https://github.com/user-attachments/assets/719b61b1-f4ad-4d73-8586-e18cee95ab0c" />
</p>

Our updated Network Topology view:
<p align="center">
  <img width="60%" alt="network_topology_added_network" src="https://github.com/user-attachments/assets/dbf4bdeb-77a5-437a-b1c6-fd0a2a661b6a" />
</p>

Now, we could stop here and proceed to the next section, but we wouldn't be able to reach our VM, because there's no route yet to our private network from the public. So let's continue seting up some remaining pre-requisites.

### Private Router
To create a private router, simply click on the "+ Create Router" button while in the Network Topology view. Alternatively, navigate to the "Network" --> "Routers" section on the left menu, click on "+ Create Router" on the top right.
<p align="center">
  <img width="60%" alt="create_router" src="https://github.com/user-attachments/assets/88664b99-c352-4d94-90d9-3634d8cc0ad2" />
</p>

Our updated Network Topology view:
<p align="center">
  <img width="60%" alt="network_topology_added_router" src="https://github.com/user-attachments/assets/7701565b-3874-45f0-87a7-8dd97172bfe1" />
</p>

Next, the final piece for connecting the two networks. While in the Network Topology view, hover the cursor over box for the router just created, and then click on "+ Add Interface":
<p float="left">
  <img width="40%" alt="network_topology_router_add_interface" src="https://github.com/user-attachments/assets/3572d52d-fd1f-4c11-ae90-1a8129768b04" />
  <img width="50%" height="339" alt="route_add_interface" src="https://github.com/user-attachments/assets/558ef16b-11a7-4f42-aa94-edef340b8640" />
</p>

Our updated Network Topology view:
<p align="center">
  <img width="833" height="921" alt="network_topology_router_interface_added" src="https://github.com/user-attachments/assets/d8c7eea4-21f3-4c00-9ae3-899f66ae8207" />
</p>

Now, any virtual machines added to this private network would be able to reach the public internet. However, we still need to do two more things in order to reach our VM from the outside.

### SSH Security Group
The penultimate task here is to allow us to SSH into the VM. To achieve this, navigate to the "Network" --> "Security Groups" section on the left menu, click on "+ Create Security Group" on the top right.
<p float="left">
  <img width="49%" alt="create_ssh_secgroup" src="https://github.com/user-attachments/assets/e40e16cf-e101-4839-8c4a-9d99f3bbf357" />
  <img width="49%" alt="add_ssh_rule" src="https://github.com/user-attachments/assets/812693a6-57f9-4860-9bcf-25addb46a722" />
</p>

After adding the appropriate rule for allowing SSH access, we are nearly ready to create our first VM.

### SSH Key Pair
Navigate to the "Compute" --> "Key Pairs" section on the left menu, and either click on "+ Create Key Pair" or "Import Public Key" the top right -- we will inject this into the VM instances we create.
